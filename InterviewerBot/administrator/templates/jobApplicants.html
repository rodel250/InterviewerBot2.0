{% load static %}


{% block headerinclude %}
    
    <title>Interview BOT - Job List</title>
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}">
    

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="{% static '/css/jobapplicants.css' %}">

{% endblock headerinclude %}



{% block footerinclude %}
    
    <!-- Font Awesome JS -->
    <script src="{% static 'Automate/js/bootstrap.js' %}"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

{% endblock footerinclude %}



{% block content %}
    {% for joblist in joblists %}
    <div class="containerColor" style="border-radius: 0%;min-height: 100%;width: 100%;">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
            <span aria-hidden="true">&times;</span>
        </button>

        <div class="modalHeader" style="border-radius: 0px;height: 80px;">
            <img src="{% static '/images/Notepad.png' %}" class="imgNotepad">
            <a class="questionTitle">Job Applicants </a><br><br>
            <a href=  "{% url 'administrator:job-lists_view' %}"><b>Back</b></a>
        </div>

        <div class="container">
            <ul class="nav nav-tabs" style="margin-left: 38%;">
                <li><a data-toggle="tab" href="#questionsTab" class="tab-modal active" style="font-weight: bold;">Questions</a></li>
                <li><a data-toggle="tab" href="#applicantTab" class="tab-modal" style="font-weight: bold;">Applicants</a></li>
            </ul>


            <div class="tab-content" style="width: 150%;margin-left: -25%;" >

                <!-- QUESTIONS TAB -->
                <div id="questionsTab" class="tab-pane in active">
                    <center><header></header>
                        <div class="questionnaireTitle" style="height: 100px;">
                        <h2><b>{{joblist.title}}</b></h2></div>
                
                    <div class="questionContainer">
                        <div class="contentQuestion">
                            <section id="tabs" class="project-tab">
                                <div class="container" style="width: 120%;margin-left: -5%;">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <nav>
                                                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true" aria-disabled="true">Questions 1-5</a>
                                                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Questions 6-10</a>
                                                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Questions 11-15</a>
                                                    <a class="nav-item nav-link" id="nav-last-tab" data-toggle="tab" href="#nav-last" role="tab" aria-controls="nav-last" aria-selected="false">Questions 16-20</a>
                                                </div>
                                            </nav>
                                            <div class="tab-content" id="nav-tabContents">
                                                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                                                    <div class="input_fields_wrap2">
                                                        <br>
                                                        <input type="text"  placeholder="1. {{joblist.question_1}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="2. {{joblist.question_2}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="3. {{joblist.question_3}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="4. {{joblist.question_4}}" disabled> &nbsp;<br>
                                                        <input type="text" placeholder="5. {{joblist.question_5}}" disabled> &nbsp;<br>
                                                        </div>
                                                </div>
                                                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                                                        <br>
                                                        <input type="text"  placeholder="6. {{joblist.question_6}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="7. {{joblist.question_7}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="8. {{joblist.question_8}}" disabled> &nbsp;<br>
                                                        <input type="text"  placeholder="9. {{joblist.question_9}}" disabled> &nbsp;<br>
                                                        <input type="text" placeholder="10. {{joblist.question_10}}" disabled> &nbsp;<br>
                                                </div>
                                                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab"><br>
                                                    <input type="text" placeholder="11. {{joblist.question_11}}" disabled> &nbsp;<br>
                                                    <input type="text"placeholder="12. {{joblist.question_12}}" disabled> &nbsp;<br>
                                                    <input type="text"placeholder="13. {{joblist.question_13}}" disabled> &nbsp;<br>
                                                    <input type="text"placeholder="14. {{joblist.question_14}}" disabled> &nbsp;<br>
                                                    <input type="text" placeholder="15. {{joblist.question_15}}" disabled> &nbsp;<br>
                                                </div>
                                                <div class="tab-pane fade" id="nav-last" role="tabpanel" aria-labelledby="nav-last-tab"><br>
                                                    <input type="text"  placeholder="16. {{joblist.question_16}}" disabled> &nbsp;<br>
                                                    <input type="text" placeholder="17. {{joblist.question_17}}" disabled> &nbsp;<br>
                                                    <input type="text" placeholder="18. {{joblist.question_18}}" disabled> &nbsp;<br>
                                                    <input type="text" placeholder="19. {{joblist.question_19}}" disabled> &nbsp;<br>
                                                    <input type="text" placeholder="20. {{joblist.question_20}}" disabled> &nbsp;<br>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                    <footer></footer>
                    </center>
                </div> <!-- END OF QUESTIONS TAB -->
                {% endfor %}

                <!-- APPLICANT TAB -->
                <div id="applicantTab" class="tab-pane in fade">
                    <center><header></header>
                    <div class="questionnaireTitle" style="height: 100px;">
                        <h2><b>Applicants</b></h2>
                        <h5>(Last Name, First Name)</h5>
                    </div>

                    <div class="questionContainer">
                        <div class="contentQuestion" >
                        {% for applicant in applicants %}
                            <div class="input_fields_wrap2" style="display:flex ;margin-bottom: 10px; width: 87%;margin-top: 3%;"> 
                                <input type="text" placeholder="{{applicant.lastname}}, {{applicant.firstname}} " disabled>
                                <button type="button" class="citButton" data-toggle="modal" id="id-btnView" data-target="#viewModal-{{applicant.id}}">View</button>
                            </div>
                        {% endfor %}
                        </div>
                    </div>
                    <footer></footer>
                    </center>
                </div> <!-- END OF APPLICANT TAB -->

                <!-- VIEW MODAL -->
                {% for applicant in applicants %}
                <div class="modal fade" id="viewModal-{{applicant.id}}" tabindex="-1" role="dialog" aria-labelledby="unsaveModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color:#933633; color: white">
                                <h5 class="modal-title" id="myLargeModalLabel"><b>VIEW APPLICANT</b></h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            
                            <form id="answersTab" method="POST">
                            {% csrf_token %}
                                <div class="modal-body">
                                    <br><p><b>Profile:</b></p>
                                    <p class="tab">Name: {{applicant.firstname}} {{applicant.lastname}}</p>
                                    <p class="tab">Gender: {{applicant.gender}}</p>
                                    <br><p><b>Contact Details:</b></p>
                                    <p class="tab">Email address: {{applicant.emailAddress}}</p>
                                    {% if applicant.phone == null or applicant.phone == '' %}
                                        <p class="tab">Phone: n/a</p>
                                    {% else %}
                                        <p class="tab">Phone: {{applicant.phone}}</p>
                                    {% endif %}
                                </div>

                                <input type="text" name="applicantID" value="{{applicant.id}}" hidden>

                                <div class="modal-footer">
                                    <button type="submit" name="btnAnswers" class="btn btn-primary">ANSWERS</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">CLOSE</button>
                                </div>
                            </form>
                        </div>
                  </div>
                </div> <!-- END OF VIEW APPLICANT MODAL -->
                {% endfor %}
                <footer></footer>
            </div>
        </div>
    </div>

    <script type="text/javascript">
    function headrTab(evt, applicantHeader) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontentHeader");
    for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinksHeader");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(applicantHeader).style.display = "block";
    evt.currentTarget.className += " active";
    }
    document.getElementById("defaultOpen").click();
    </script>

    <script type="text/javascript">
    function jobApplicant(evt, applicant) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(applicant).style.display = "block";
    evt.currentTarget.className += " active";
    }
    document.getElementById("defaultOpenQuestionsTab").click();
    </script>                        
{% endblock content %}
























